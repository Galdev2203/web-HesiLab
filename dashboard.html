---
layout: default
title: Panel de Asistencia
custom_css: |
  <style>
    body { font-family: Arial; padding: 20px; }
    .logout-btn {
      background: #d9534f; color: white;
      border: none; padding: 10px 20px;
      border-radius: 6px; cursor: pointer;
      margin-top: 30px;
    }
    #cardsContainer {
      margin-top: 30px; display: flex;
      gap: 20px; flex-wrap: wrap;
    }
    .card {
      background: #f4f6f9; padding:20px;
      border-radius:10px; width:250px;
      cursor:pointer; border:1px solid #ddd;
      transition:0.2s ease;
    }
    .card:hover { background:#e8eef7; transform:translateY(-3px); }
    .card h3 { margin:0 0 10px 0; }
  </style>
custom_js: |
  <script type="module">
    import { supabase } from "./supabaseClient.js";

    const { data } = await supabase.auth.getSession();

    if (!data.session) {
      window.location.href = "/index.html";
    } else {
      document.getElementById("userinfo").innerText =
        `Has iniciado sesión como: ${data.session.user.email}`;
    }

    document.getElementById("teamsCard").onclick = () => {
      window.location.href = "/teams.html";
    };

    document.getElementById("logoutBtn").onclick = async () => {
      await supabase.auth.signOut();
      window.location.href = "/index.html";
    };
  </script>
---

<h2>Bienvenido al Panel</h2>
<p id="userinfo">Cargando datos del usuario...</p>

<div id="cardsContainer">
  <div class="card" id="teamsCard">
    <h3>Mis equipos</h3>
    <p>Gestiona equipos, entrenadores y jugadores.</p>
  </div>
</div>

<button class="logout-btn" id="logoutBtn">Cerrar sesión</button>
